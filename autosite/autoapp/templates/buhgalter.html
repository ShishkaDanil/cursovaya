<!DOCTYPE html>
<html>
    <!-- Подключение стилей Bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <head>
    <meta charset="UTF-8">
    <title>Список автомобилей и отчет</title>
    
    

  </head>
  <body>
    <div class="container">
      <h1>Список автомобилей и отчет</h1>
      <nav>
        <ul class="tabs">
          <li class="active"><a href="#tab1">Автомобили</a></li>
          <li><a href="#tab2">Отчет</a></li>
        </ul>
      </nav>
      <div class="tab-content">
        <div id="tab1" class="tab active">
          <h2>Список автомобилей</h2>
          <table>
            <thead>
              <tr>
                <th>Класс авто</th>
                <th>Марка</th>
                <th>Модель</th>
                <th>Госномер</th>
                <th>Начальная стоимость</th>
                <th>Фактический пробег</th>
              </tr>
            </thead>
            <tbody>
              {% for agreement in agreements %}
              <tr>
                <td>{{ agreement.car.class_type.name}}</td>
                <td>{{ agreement.car.make }}</td>
                <td>{{ agreement.car.model }}</td>
                <td>{{ agreement.car.license_plate }}</td>
                <td>{{ agreement.car.base_price }}</td>
                <td>{{ agreement.car.mileage }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
          <h2>Добавить автомобиль</h2>
          {% load crispy_forms_tags %}
          <form method="post">
            {% csrf_token %}
            <div class="form-group">
              {{ form.class_type.label_tag }}
              {{ form.class_type }}
            </div>
            <div class="form-group">
              {{ form.make.label_tag }}
              {{ form.make }}
            </div>
            <div class="form-group">
              {{ form.model.label_tag }}
              {{ form.model }}
            </div>
            <div class="form-group">
              {{ form.seats.label_tag }}
              {{ form.seats }}
            </div>
            <div class="form-group">
              {{ form.doors.label_tag }}
              {{ form.doors }}
            </div>
            <div class="form-group">
              {{ form.license_plate.label_tag }}
              {{ form.license_plate }}
            </div>
            <div class="form-group form-check">
              {{ form.has_ac.label_tag }}
              {{ form.has_ac }}
            </div>
            <div class="form-group">
              {{ form.transmission.label_tag }}
              {{ form.transmission }}
            </div>
            <div class="form-group">
              {{ form.daily_rate.label_tag }}
              {{ form.daily_rate }}
            </div>
            <div class="form-group">
              {{ form.base_price.label_tag }}
              {{ form.base_price }}
            </div>
            <div class="form-group">
              {{ form.mileage.label_tag }}
              {{ form.mileage }}
            </div>
            <button type="submit" class="btn btn-primary">Добавить</button>
          </form>
        </div>
        
      
        <div id="tab2" class="tab">
        <h2>Отчет</h2>
        <form method="post">
        {% csrf_token %}
        <div class="form-group">
        <label for="start-date">Начальная дата:</label>
        <input type="date" class="form-control" id="start-date" name="start-date">
        </div>
        <div class="form-group">
        <label for="end-date">Конечная дата:</label>
        <input type="date" class="form-control" id="end-date" name="end-date">
        </div>
        <button type="submit" class="btn btn-primary">Показать</button>
        </form>
        <table>
        <thead>
        <tr>
        <th>Класс авто</th>
        <th>Марка</th>
        <th>модель</th>
        <th>Количество договоров</th>
        <th>Общая сумма арендной платы</th>
        </tr>
        </thead>
        <tbody>
            <tbody>
                {% for agreement in agreements %}
                    <tr>
                    <td>{{ agreement.car.class_type.name}}</td>
                    <td>{{ agreement.car.make }}</td>
                    <td>{{ agreement.car.model }}</td>
                    <td>{{ agreement.car.license_plate }}</td>
                    <td>{{ agreement.car.base_price }}</td>
                    <td>{{ agreement.car.mileage }}</td>
                    </tr>
                {% endfor %}
                </tbody>
        </tbody>
        </table>
        </div>
        </div>
        </div>
        
        
        
        
          </body>
          <!-- Подключение jQuery -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <!-- Подключение скриптов Bootstrap -->
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        </html>